<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Meridian ‚Äî A Journal of Ideas</title>
<meta name="description" content="A curated journal exploring technology, culture, design, and the ideas shaping our world."/>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&family=Source+Serif+4:ital,opsz,wght@0,8..60,400&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet"/>
<style>
:root{
  --ink:#0f0e0d;--ink2:#3a3633;--ink3:#7a746e;
  --paper:#f7f4ef;--paper2:#edeae3;--paper3:#e2ddd6;
  --card:#fff;--border:#d5d0c9;
  --shadow:rgba(15,14,13,.08);--shadow2:rgba(15,14,13,.18);
  --accent:#c0392b;--green:#27ae60;
  --header:rgba(247,244,239,.95);
  --fd:'Playfair Display',Georgia,serif;
  --fb:'Source Serif 4',Georgia,serif;
  --fm:'DM Mono','Courier New',monospace;
  --ease:.22s cubic-bezier(.4,0,.2,1);
  --mw:1160px;
}
[data-theme=dark]{
  --ink:#f0ece4;--ink2:#c8c2b8;--ink3:#8a837a;
  --paper:#141210;--paper2:#1e1b18;--paper3:#272320;
  --card:#1e1b18;--border:#342f2a;
  --shadow:rgba(0,0,0,.3);--shadow2:rgba(0,0,0,.5);
  --header:rgba(20,18,16,.95);--accent:#e05a50;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:var(--fb);background:var(--paper);color:var(--ink);line-height:1.7;overflow-x:hidden;transition:background var(--ease),color var(--ease)}
a{color:inherit;text-decoration:none}ul{list-style:none}
button{cursor:pointer;font-family:inherit;border:none;background:none}
::-webkit-scrollbar{width:5px}::-webkit-scrollbar-track{background:var(--paper2)}::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}

/* NAV */
.site-header{position:sticky;top:0;z-index:50;background:var(--header);backdrop-filter:blur(12px);border-bottom:1px solid var(--border)}
.nav-inner{max-width:var(--mw);margin:0 auto;padding:0 24px;display:flex;align-items:center;justify-content:space-between;height:62px}
.logo{font-family:var(--fd);font-size:1.45rem;font-weight:900;letter-spacing:-.02em;cursor:pointer}
.logo span{color:var(--accent)}
.nav-links{display:flex;gap:28px}
.nav-links a{font-family:var(--fm);font-size:.72rem;letter-spacing:.1em;text-transform:uppercase;color:var(--ink3);transition:color var(--ease);cursor:pointer}
.nav-links a:hover,.nav-links a.active{color:var(--ink)}
.nav-actions{display:flex;align-items:center;gap:8px}
.icon-btn{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--ink3);transition:background var(--ease),color var(--ease)}
.icon-btn:hover{background:var(--paper2);color:var(--ink)}
.moon-i{display:none}[data-theme=dark] .sun-i{display:none}[data-theme=dark] .moon-i{display:block}
.hamburger{display:none;flex-direction:column;gap:5px;padding:6px}
.hamburger span{display:block;width:20px;height:2px;background:var(--ink2);border-radius:1px;transition:transform var(--ease),opacity var(--ease)}
.hamburger.open span:nth-child(1){transform:translateY(7px) rotate(45deg)}
.hamburger.open span:nth-child(2){opacity:0}
.hamburger.open span:nth-child(3){transform:translateY(-7px) rotate(-45deg)}
.mnav{display:none;flex-direction:column;padding:14px 24px 18px;border-top:1px solid var(--border);background:var(--header);gap:12px}
.mnav.open{display:flex}
.mnav a{font-family:var(--fm);font-size:.8rem;letter-spacing:.08em;text-transform:uppercase;color:var(--ink2);padding:8px 0;border-bottom:1px solid var(--border);cursor:pointer}

/* SEARCH OVERLAY */
.srch-overlay{position:fixed;inset:0;z-index:200;background:rgba(15,14,13,.7);backdrop-filter:blur(6px);align-items:flex-start;justify-content:center;padding-top:80px;display:none;}
.srch-overlay.visible{display:flex!important;}
.srch-overlay.open{display:flex}
.srch-box{width:100%;max-width:600px;margin:0 20px}
.srch-wrap{display:flex;align-items:center;background:var(--card);border:2px solid var(--accent);border-radius:8px;padding:4px 14px;gap:10px}
.srch-wrap svg{color:var(--ink3);flex-shrink:0}
#srch-inp{width:100%;background:none;border:none;outline:none;font-family:var(--fb);font-size:1.05rem;color:var(--ink);padding:11px 0}
#srch-inp::placeholder{color:var(--ink3)}
.srch-res{margin-top:10px;background:var(--card);border:1px solid var(--border);border-radius:8px;overflow:hidden;max-height:380px;overflow-y:auto;display:none}
.srch-item{padding:13px 16px;border-bottom:1px solid var(--border);cursor:pointer;transition:background var(--ease)}
.srch-item:hover{background:var(--paper2)}
.srch-item:last-child{border-bottom:none}
.srch-ttl{font-family:var(--fd);font-weight:700;font-size:.92rem;margin-bottom:2px}
.srch-meta{font-family:var(--fm);font-size:.68rem;color:var(--ink3)}
.srch-empty{padding:24px;text-align:center;color:var(--ink3);font-style:italic}

/* PAGES */
.page{display:none}
.page.active{display:block;animation:fadeUp .4s ease both}
@keyframes fadeUp{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}

/* HOME */
.masthead{max-width:var(--mw);margin:0 auto;padding:52px 24px 36px;text-align:center}
.masthead-tag{font-family:var(--fm);font-size:.7rem;letter-spacing:.15em;text-transform:uppercase;color:var(--accent);margin-bottom:14px;display:inline-flex;align-items:center;gap:10px}
.masthead-tag::before,.masthead-tag::after{content:'';display:block;width:28px;height:1px;background:var(--accent)}
.masthead h1{font-size:clamp(2.6rem,7vw,5rem);line-height:1.05;letter-spacing:-.02em;font-weight:900;font-family:var(--fd)}
.masthead h1 em{font-style:italic;color:var(--accent)}
.masthead-sub{margin-top:16px;color:var(--ink3);max-width:480px;margin-left:auto;margin-right:auto}

/* FEATURED */
.featured-sec{max-width:var(--mw);margin:0 auto;padding:0 24px 48px}
.feat-card{display:grid;grid-template-columns:1fr 1fr;border:1px solid var(--border);border-radius:12px;overflow:hidden;background:var(--card);box-shadow:0 4px 28px var(--shadow);cursor:pointer;transition:box-shadow var(--ease),transform var(--ease)}
.feat-card:hover{box-shadow:0 12px 48px var(--shadow2);transform:translateY(-3px)}
.feat-img{position:relative;min-height:340px;overflow:hidden;background:var(--paper3)}
.feat-img svg{width:100%;height:100%;position:absolute;inset:0;transition:transform .6s ease}
.feat-card:hover .feat-img svg{transform:scale(1.05)}
.feat-body{padding:44px 40px 36px;display:flex;flex-direction:column;justify-content:center}
.cat-badge{display:inline-block;font-family:var(--fm);font-size:.63rem;letter-spacing:.15em;text-transform:uppercase;padding:4px 11px;border-radius:2px;background:var(--accent);color:#fff;margin-bottom:18px;width:fit-content}
.feat-body h2{font-family:var(--fd);font-size:clamp(1.5rem,2.8vw,2.1rem);line-height:1.2;margin-bottom:14px;transition:color var(--ease)}
.feat-card:hover .feat-body h2{color:var(--accent)}
.feat-body .excerpt{color:var(--ink2);font-size:.92rem;line-height:1.75;margin-bottom:24px}
.post-meta{display:flex;align-items:center;gap:14px;flex-wrap:wrap}
.auth-av{width:34px;height:34px;border-radius:50%;overflow:hidden;flex-shrink:0}
.meta-name{font-weight:600;font-size:.85rem}
.meta-date{font-family:var(--fm);font-size:.68rem;color:var(--ink3)}
.meta-div{width:1px;height:26px;background:var(--border)}
.read-time{font-family:var(--fm);font-size:.68rem;color:var(--ink3)}
.read-arrow{margin-left:auto;display:flex;align-items:center;gap:5px;font-family:var(--fm);font-size:.68rem;letter-spacing:.1em;text-transform:uppercase;color:var(--accent)}

/* FILTER */
.filter-bar{max-width:var(--mw);margin:0 auto;padding:0 24px 28px;display:flex;align-items:center;gap:8px;overflow-x:auto;scrollbar-width:none}
.filter-bar::-webkit-scrollbar{display:none}
.filter-lbl{font-family:var(--fm);font-size:.68rem;letter-spacing:.1em;text-transform:uppercase;color:var(--ink3);white-space:nowrap;margin-right:4px}
.filter-btn{font-family:var(--fm);font-size:.7rem;letter-spacing:.08em;text-transform:uppercase;padding:6px 14px;border-radius:2px;border:1px solid var(--border);color:var(--ink3);background:transparent;white-space:nowrap;transition:all var(--ease)}
.filter-btn:hover{border-color:var(--ink3);color:var(--ink)}
.filter-btn.active{background:var(--accent);border-color:var(--accent);color:#fff}

/* GRID */
.content-wrap{max-width:var(--mw);margin:0 auto;padding:0 24px;display:grid;grid-template-columns:1fr 280px;gap:44px;align-items:start}
.blog-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:28px}
.post-card{border:1px solid var(--border);border-radius:8px;overflow:hidden;background:var(--card);cursor:pointer;display:flex;flex-direction:column;transition:box-shadow var(--ease),transform var(--ease);animation:fadeUp .5s ease both}
.post-card:hover{box-shadow:0 8px 32px var(--shadow2);transform:translateY(-4px)}
.card-img{aspect-ratio:16/9;background:var(--paper3);overflow:hidden}
.card-img svg{width:100%;height:100%;transition:transform .5s ease}
.post-card:hover .card-img svg{transform:scale(1.06)}
.card-body{padding:22px;flex:1;display:flex;flex-direction:column}
.card-title{font-family:var(--fd);font-size:1.08rem;font-weight:700;line-height:1.3;margin:10px 0 8px;transition:color var(--ease)}
.post-card:hover .card-title{color:var(--accent)}
.card-excerpt{color:var(--ink2);font-size:.85rem;line-height:1.65;flex:1;margin-bottom:16px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}
.card-foot{display:flex;align-items:center;justify-content:space-between;border-top:1px solid var(--border);padding-top:12px}
.card-author{font-size:.78rem;font-weight:600;color:var(--ink2)}
.card-info{font-family:var(--fm);font-size:.66rem;color:var(--ink3)}
.no-results{grid-column:1/-1;text-align:center;padding:56px 24px;color:var(--ink3)}

/* SIDEBAR */
.sidebar{position:sticky;top:76px}
.sw{background:var(--card);border:1px solid var(--border);border-radius:8px;padding:22px;margin-bottom:20px}
.sw-title{font-family:var(--fm);font-size:.65rem;letter-spacing:.15em;text-transform:uppercase;color:var(--ink3);margin-bottom:14px;padding-bottom:10px;border-bottom:1px solid var(--border)}
.sw-post{display:flex;gap:10px;padding:10px 0;border-bottom:1px solid var(--border);cursor:pointer;transition:opacity var(--ease)}
.sw-post:last-child{border-bottom:none;padding-bottom:0}
.sw-post:hover{opacity:.7}
.sw-thumb{width:52px;height:52px;border-radius:4px;overflow:hidden;flex-shrink:0;background:var(--paper3)}
.sw-ttl{font-family:var(--fd);font-size:.82rem;font-weight:700;line-height:1.3;margin-bottom:3px}
.sw-dt{font-family:var(--fm);font-size:.63rem;color:var(--ink3)}
.tag-list{display:flex;flex-wrap:wrap;gap:7px}
.tag{font-family:var(--fm);font-size:.66rem;letter-spacing:.06em;text-transform:uppercase;padding:4px 11px;border:1px solid var(--border);border-radius:2px;color:var(--ink3);cursor:pointer;transition:all var(--ease)}
.tag:hover{border-color:var(--accent);color:var(--accent)}

/* PAGINATION */
.pagination{max-width:var(--mw);margin:48px auto 0;padding:0 24px;display:flex;align-items:center;justify-content:center;gap:7px}
.page-btn{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:1px solid var(--border);border-radius:4px;font-family:var(--fm);font-size:.78rem;color:var(--ink3);background:var(--card);transition:all var(--ease)}
.page-btn:hover{border-color:var(--ink3);color:var(--ink)}
.page-btn.active{background:var(--accent);border-color:var(--accent);color:#fff}
.page-btn:disabled{opacity:.4;pointer-events:none}

/* SINGLE POST */
.back-btn{display:inline-flex;align-items:center;gap:7px;font-family:var(--fm);font-size:.7rem;letter-spacing:.1em;text-transform:uppercase;color:var(--ink3);padding:20px 24px;cursor:pointer;transition:color var(--ease)}
.back-btn:hover{color:var(--accent)}
.post-hdr{max-width:720px;margin:0 auto;padding:32px 24px 36px;text-align:center}
.post-hdr h1{font-family:var(--fd);font-size:clamp(1.9rem,5vw,3rem);line-height:1.15;margin:18px 0}
.post-hdr .sub{font-size:1.1rem;color:var(--ink2);font-style:italic;line-height:1.6;margin-bottom:28px}
.post-hdr-meta{display:flex;align-items:center;justify-content:center;gap:18px;padding:18px 0;border-top:1px solid var(--border);border-bottom:1px solid var(--border);flex-wrap:wrap}
.post-hero{max-width:var(--mw);margin:0 auto;padding:0 24px 44px}
.post-hero-img{border-radius:12px;overflow:hidden;height:380px}
.post-layout{max-width:var(--mw);margin:0 auto;padding:0 24px 72px;display:grid;grid-template-columns:1fr 260px;gap:56px;align-items:start}
.post-content{font-size:1.02rem;line-height:1.85}
.post-content p{margin-bottom:1.4em}
.post-content h2{font-family:var(--fd);font-size:1.5rem;margin:2em 0 .65em;padding-bottom:10px;border-bottom:2px solid var(--border)}
.post-content h3{font-family:var(--fd);font-size:1.2rem;margin:1.6em 0 .5em}
.post-content blockquote{margin:1.8em 0;padding:20px 24px;border-left:4px solid var(--accent);background:var(--paper2);border-radius:0 8px 8px 0;font-style:italic;font-size:1.08rem;color:var(--ink2)}
.post-content code{font-family:var(--fm);font-size:.86em;background:var(--paper2);padding:2px 6px;border-radius:3px;color:var(--accent)}
.post-content ul,.post-content ol{margin:1em 0 1.4em 1.5em}
.post-content li{margin-bottom:.35em;list-style:disc}
.post-content ol li{list-style:decimal}
.post-tags{display:flex;flex-wrap:wrap;gap:7px;margin-top:36px;padding-top:24px;border-top:1px solid var(--border)}
.post-tag{font-family:var(--fm);font-size:.66rem;letter-spacing:.08em;text-transform:uppercase;padding:4px 12px;border:1px solid var(--border);border-radius:2px;color:var(--ink3)}
.post-sidebar{position:sticky;top:76px}
.toc-list li{padding:6px 0;border-bottom:1px solid var(--border)}
.toc-list li:last-child{border-bottom:none}
.toc-list a{font-size:.84rem;color:var(--ink2);transition:color var(--ease)}
.toc-list a:hover{color:var(--accent)}
.share-btns{display:flex;gap:8px;flex-wrap:wrap}
.share-btn{padding:7px 14px;border:1px solid var(--border);border-radius:4px;font-family:var(--fm);font-size:.68rem;letter-spacing:.06em;text-transform:uppercase;color:var(--ink2);background:var(--card);transition:all var(--ease)}
.share-btn:hover{background:var(--accent);border-color:var(--accent);color:#fff}

/* ABOUT */
.about-hero{max-width:var(--mw);margin:0 auto;padding:60px 24px 44px;display:grid;grid-template-columns:1fr 1fr;gap:56px;align-items:center}
.about-text h1{font-family:var(--fd);font-size:clamp(2.2rem,5vw,3.5rem);line-height:1.1;margin-bottom:22px}
.about-text h1 em{font-style:italic;color:var(--accent)}
.about-text p{color:var(--ink2);line-height:1.8;margin-bottom:1.3em}
.about-art{border-radius:12px;overflow:hidden;height:400px;background:var(--paper3)}
.team-section{max-width:var(--mw);margin:0 auto;padding:0 24px 60px}
.sec-lbl{font-family:var(--fm);font-size:.68rem;letter-spacing:.15em;text-transform:uppercase;color:var(--ink3);margin-bottom:8px}
.sec-title{font-family:var(--fd);font-size:clamp(1.5rem,3vw,2rem);margin-bottom:32px}
.team-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:24px}
.team-card{background:var(--card);border:1px solid var(--border);border-radius:8px;padding:26px;text-align:center}
.team-av{width:72px;height:72px;border-radius:50%;margin:0 auto 14px;overflow:hidden;background:var(--paper3)}
.team-name{font-family:var(--fd);font-size:1.05rem;font-weight:700;margin-bottom:4px}
.team-role{font-family:var(--fm);font-size:.68rem;color:var(--accent);text-transform:uppercase;letter-spacing:.1em;margin-bottom:10px}
.team-bio{font-size:.85rem;color:var(--ink2);line-height:1.65}

/* CONTACT */
.contact-layout{max-width:var(--mw);margin:0 auto;padding:60px 24px 72px;display:grid;grid-template-columns:1fr 1fr;gap:56px}
.contact-info h1{font-family:var(--fd);font-size:clamp(2rem,4vw,2.8rem);margin-bottom:18px}
.contact-info p{color:var(--ink2);line-height:1.8;margin-bottom:1.3em}
.c-detail{display:flex;align-items:flex-start;gap:12px;margin-bottom:16px}
.c-icon{width:38px;height:38px;border-radius:8px;background:var(--paper2);display:flex;align-items:center;justify-content:center;flex-shrink:0;color:var(--accent)}
.c-lbl{font-family:var(--fm);font-size:.66rem;letter-spacing:.1em;text-transform:uppercase;color:var(--ink3);margin-bottom:2px}
.c-val{font-size:.92rem}
.contact-form-wrap{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:32px}
.contact-form-wrap h3{font-family:var(--fd);font-size:1.25rem;margin-bottom:22px}
.fg{margin-bottom:18px}
.fl{display:block;font-family:var(--fm);font-size:.66rem;letter-spacing:.1em;text-transform:uppercase;color:var(--ink3);margin-bottom:7px}
.fc{width:100%;background:var(--paper2);border:1px solid var(--border);border-radius:4px;padding:10px 14px;font-family:var(--fb);font-size:.9rem;color:var(--ink);outline:none;transition:border-color var(--ease);resize:vertical}
.fc:focus{border-color:var(--accent)}
textarea.fc{min-height:110px}
.btn-primary{background:var(--accent);color:#fff;padding:12px 28px;border-radius:4px;font-family:var(--fm);font-size:.76rem;letter-spacing:.1em;text-transform:uppercase;width:100%;transition:opacity var(--ease)}
.btn-primary:hover{opacity:.86}
.form-ok{display:none;text-align:center;padding:28px}
.form-ok.show{display:block}
.form-ok svg{color:var(--green);margin:0 auto 14px}
.form-ok h3{font-family:var(--fd);font-size:1.2rem;margin-bottom:8px}
.form-ok p{color:var(--ink2);font-size:.88rem}

/* NEWSLETTER */
.newsletter{background:var(--ink);color:var(--paper);padding:52px 24px;text-align:center;margin-top:64px}
[data-theme=dark] .newsletter{background:var(--paper3);color:var(--ink)}
.newsletter h2{font-family:var(--fd);font-size:clamp(1.5rem,3.5vw,2.2rem);margin-bottom:10px}
.newsletter p{opacity:.7;margin-bottom:24px}
.nl-form{display:flex;max-width:400px;margin:0 auto;border-radius:4px;overflow:hidden}
.nl-form input{flex:1;padding:13px 16px;border:none;outline:none;font-family:var(--fb);font-size:.88rem;background:rgba(255,255,255,.12);color:var(--paper)}
[data-theme=dark] .nl-form input{background:var(--paper2);color:var(--ink)}
.nl-form input::placeholder{opacity:.5}
.nl-form button{padding:13px 20px;background:var(--accent);color:#fff;font-family:var(--fm);font-size:.7rem;letter-spacing:.1em;text-transform:uppercase;cursor:pointer;border:none}

/* FOOTER */
.site-footer{background:var(--paper2);border-top:1px solid var(--border)}
.footer-inner{max-width:var(--mw);margin:0 auto;padding:44px 24px;display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:36px}
.footer-brand p{font-size:.85rem;color:var(--ink3);line-height:1.7;max-width:260px;margin-top:10px}
.footer-col h4{font-family:var(--fm);font-size:.65rem;letter-spacing:.15em;text-transform:uppercase;color:var(--ink3);margin-bottom:14px}
.footer-col ul li{margin-bottom:9px}
.footer-col ul li a{font-size:.85rem;color:var(--ink2);cursor:pointer;transition:color var(--ease)}
.footer-col ul li a:hover{color:var(--accent)}
.footer-btm{border-top:1px solid var(--border);padding:18px 24px;max-width:var(--mw);margin:0 auto;display:flex;align-items:center;justify-content:space-between}
.footer-btm p{font-family:var(--fm);font-size:.68rem;color:var(--ink3)}

/* TOAST */
.toast{position:fixed;bottom:22px;right:22px;background:var(--ink);color:var(--paper);padding:11px 18px;border-radius:6px;font-family:var(--fm);font-size:.76rem;box-shadow:0 8px 24px var(--shadow2);opacity:0;pointer-events:none;transition:opacity .3s ease,transform .3s ease;transform:translateY(10px);z-index:9999}
.toast.show{opacity:1;transform:translateY(0)}

/* READING PROGRESS */
.rp{position:fixed;top:0;left:0;width:0;height:3px;background:var(--accent);z-index:999;transition:width .1s linear}

/* ==========================================
   ADMIN STYLES
========================================== */
/* Floating button */
.adm-fab{
  position:fixed;bottom:24px;right:24px;z-index:300;
  width:52px;height:52px;border-radius:50%;
  background:#7c5cfc;color:#fff;border:none;cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 4px 20px rgba(124,92,252,.45);
  transition:transform .2s,box-shadow .2s;
  font-size:22px;
}
.adm-fab:hover{transform:scale(1.1);box-shadow:0 6px 28px rgba(124,92,252,.6)}

/* Login modal */
.adm-modal{position:fixed;inset:0;z-index:1000;background:rgba(0,0,0,.85);align-items:center;justify-content:center;display:none;}
.adm-modal.visible{display:flex!important;}
.adm-modal-card{
  width:100%;max-width:420px;margin:20px;
  background:#16161a;border:1px solid #2e2e38;
  border-radius:20px;padding:44px 36px;
  box-shadow:0 20px 60px rgba(0,0,0,.8);
}
.adm-logo{font-family:var(--fd);font-size:1.6rem;font-weight:900;color:#e8e6f0;margin-bottom:4px}
.adm-logo span{color:#a07cff}
.adm-sub{font-family:var(--fm);font-size:.68rem;letter-spacing:.12em;text-transform:uppercase;color:#5a5870;margin-bottom:32px}
.adm-lbl{display:block;font-family:var(--fm);font-size:.68rem;letter-spacing:.1em;text-transform:uppercase;color:#5a5870;margin-bottom:7px;margin-top:14px}
.adm-lbl:first-of-type{margin-top:0}
.adm-inp{width:100%;background:#1e1e24;border:1px solid #2e2e38;border-radius:6px;padding:11px 14px;color:#e8e6f0;font-size:.92rem;outline:none;font-family:inherit;transition:border-color .2s}
.adm-inp:focus{border-color:#7c5cfc}
.adm-login-btn{width:100%;background:#7c5cfc;color:#fff;padding:12px;border-radius:6px;font-family:var(--fm);font-size:.78rem;font-weight:600;letter-spacing:.08em;text-transform:uppercase;cursor:pointer;border:none;margin-top:20px;transition:opacity .2s}
.adm-login-btn:hover{opacity:.85}
.adm-err{color:#fc5c7c;font-size:.78rem;margin-top:10px;text-align:center;min-height:18px}
.adm-hint{margin-top:20px;padding:11px 14px;background:#1e1e24;border:1px solid #2e2e38;border-radius:6px;font-size:.76rem;color:#5a5870;font-family:var(--fm);line-height:1.7}
.adm-hint b{color:#a07cff}
.adm-back-btn{width:100%;margin-top:14px;padding:9px;border:1px solid #2e2e38;border-radius:6px;font-family:var(--fm);font-size:.7rem;color:#5a5870;cursor:pointer;background:none;letter-spacing:.08em;text-transform:uppercase;transition:color .2s,border-color .2s}
.adm-back-btn:hover{color:#9896aa;border-color:#9896aa}

/* GitHub settings inside login */
.gh-section{margin-top:18px;border-top:1px solid #2e2e38;padding-top:16px}
.gh-toggle-btn{width:100%;display:flex;align-items:center;justify-content:space-between;background:none;border:none;cursor:pointer;color:#5a5870;font-family:var(--fm);font-size:.68rem;letter-spacing:.1em;text-transform:uppercase;padding:0;transition:color .2s}
.gh-toggle-btn:hover{color:#9896aa}
.gh-toggle-btn svg{transition:transform .2s;flex-shrink:0}
.gh-fields{display:none;flex-direction:column;gap:10px;margin-top:14px}
.gh-fields.open{display:flex}
.gh-save-btn{background:#26262e;color:#a07cff;padding:9px;border-radius:6px;font-family:var(--fm);font-size:.7rem;letter-spacing:.08em;text-transform:uppercase;cursor:pointer;border:1px solid #3a3a48;transition:all .2s;width:100%}
.gh-save-btn:hover{background:#3a3a48}
.gh-note{font-size:.7rem;color:#3a3a48;line-height:1.6;font-family:var(--fm)}

/* Admin panel */
.adm-panel{position:fixed;inset:0;z-index:900;background:#0d0d0f;flex-direction:column;overflow:hidden;display:none;}
.adm-panel.visible{display:flex!important;}
.adm-topbar{height:58px;background:#16161a;border-bottom:1px solid #2e2e38;display:flex;align-items:center;justify-content:space-between;padding:0 24px;flex-shrink:0}
.adm-topbar-l{display:flex;align-items:center;gap:14px}
.adm-brand{font-family:var(--fd);font-size:1.1rem;font-weight:900;color:#e8e6f0}
.adm-brand span{color:#a07cff}
.adm-sep{width:1px;height:20px;background:#2e2e38}
.adm-page-title{font-family:var(--fm);font-size:.72rem;letter-spacing:.1em;text-transform:uppercase;color:#9896aa}
.adm-topbar-r{display:flex;align-items:center;gap:10px}
.adm-user{display:flex;align-items:center;gap:8px;padding:6px 12px;background:#1e1e24;border:1px solid #2e2e38;border-radius:6px;font-family:var(--fm);font-size:.7rem;color:#9896aa}
.adm-dot{width:8px;height:8px;border-radius:50%;background:#4cd9a0}
.adm-topbar-btn{display:flex;align-items:center;gap:6px;padding:7px 14px;border:1px solid #2e2e38;border-radius:6px;font-family:var(--fm);font-size:.7rem;letter-spacing:.06em;text-transform:uppercase;color:#9896aa;cursor:pointer;background:none;transition:all .2s}
.adm-topbar-btn:hover.view{border-color:#7c5cfc;color:#a07cff}
.adm-topbar-btn:hover.logout{border-color:#fc5c7c;color:#fc5c7c}

.adm-body{flex:1;overflow-y:auto;padding:28px;max-width:900px;width:100%;margin:0 auto}

/* Tabs */
.adm-tabs{display:flex;gap:4px;margin-bottom:24px;background:#1e1e24;border-radius:8px;padding:4px;width:fit-content}
.adm-tab{padding:8px 20px;border-radius:6px;font-family:var(--fm);font-size:.72rem;letter-spacing:.08em;text-transform:uppercase;color:#9896aa;cursor:pointer;transition:all .2s}
.adm-tab.active{background:#7c5cfc;color:#fff}
.adm-tab:hover:not(.active){color:#e8e6f0}

/* Tab panels */
.adm-view{display:none}
.adm-view.active{display:block;animation:fadeUp .3s ease both}

/* Posts list */
.adm-post-list{display:flex;flex-direction:column;gap:10px}
.adm-list-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.adm-list-count{font-family:var(--fm);font-size:.7rem;letter-spacing:.1em;text-transform:uppercase;color:#5a5870}
.adm-new-btn{background:#7c5cfc;color:#fff;padding:8px 16px;border-radius:6px;font-family:var(--fm);font-size:.72rem;letter-spacing:.08em;text-transform:uppercase;cursor:pointer;border:none;transition:opacity .2s}
.adm-new-btn:hover{opacity:.85}
.adm-item{background:#16161a;border:1px solid #2e2e38;border-radius:8px;padding:16px 18px;display:flex;align-items:center;gap:14px;transition:border-color .2s}
.adm-item:hover{border-color:#3a3a48}
.adm-item-info{flex:1;min-width:0}
.adm-item-title{font-weight:600;font-size:.9rem;color:#e8e6f0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:4px}
.adm-item-meta{font-family:var(--fm);font-size:.66rem;color:#5a5870}
.adm-status{font-family:var(--fm);font-size:.62rem;letter-spacing:.08em;text-transform:uppercase;padding:3px 9px;border-radius:20px;white-space:nowrap}
.adm-status.pub{background:#4cd9a018;color:#4cd9a0;border:1px solid #4cd9a030}
.adm-status.dft{background:#fbbf2418;color:#fbbf24;border:1px solid #fbbf2430}
.adm-actions{display:flex;gap:6px;flex-shrink:0}
.adm-act{width:30px;height:30px;border-radius:6px;display:flex;align-items:center;justify-content:center;color:#5a5870;cursor:pointer;transition:all .2s;border:1px solid transparent;background:none}
.adm-act.edit:hover{background:#7c5cfc18;color:#a07cff;border-color:#7c5cfc30}
.adm-act.del:hover{background:#fc5c7c18;color:#fc5c7c;border-color:#fc5c7c30}
.adm-empty{text-align:center;padding:48px 20px;color:#5a5870}
.adm-empty svg{margin:0 auto 12px;opacity:.3}

/* Editor */
.adm-form{display:flex;flex-direction:column;gap:16px}
.adm-fg{display:flex;flex-direction:column;gap:6px}
.adm-fl{font-family:var(--fm);font-size:.66rem;letter-spacing:.12em;text-transform:uppercase;color:#5a5870}
.adm-fc{background:#1e1e24;border:1px solid #2e2e38;border-radius:6px;padding:10px 14px;color:#e8e6f0;font-size:.9rem;outline:none;width:100%;font-family:inherit;transition:border-color .2s,box-shadow .2s}
.adm-fc:focus{border-color:#7c5cfc;box-shadow:0 0 0 3px rgba(124,92,252,.15)}
.adm-fc::placeholder{color:#3a3a48}
textarea.adm-fc{resize:vertical;line-height:1.7;min-height:80px}
.adm-toolbar{display:flex;gap:4px;padding:8px 12px;background:#1e1e24;border:1px solid #2e2e38;border-bottom:none;border-radius:6px 6px 0 0;flex-wrap:wrap}
.adm-tb-btn{width:28px;height:26px;display:flex;align-items:center;justify-content:center;border-radius:4px;color:#5a5870;font-family:var(--fm);font-size:.76rem;font-weight:700;cursor:pointer;transition:all .2s;background:none;border:none}
.adm-tb-btn:hover{background:#26262e;color:#e8e6f0}
.adm-tb-sep{width:1px;height:18px;background:#2e2e38;margin:4px 2px;align-self:center}
.adm-content-area{border-radius:0 0 6px 6px!important;min-height:260px;font-family:var(--fm);font-size:.82rem}
.adm-2col{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.adm-sel{background:#1e1e24;border:1px solid #2e2e38;border-radius:6px;padding:10px 14px;color:#e8e6f0;font-size:.88rem;outline:none;width:100%;cursor:pointer;font-family:inherit;transition:border-color .2s}
.adm-sel:focus{border-color:#7c5cfc}
.adm-toggle-row{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;background:#1e1e24;border:1px solid #2e2e38;border-radius:6px}
.adm-toggle-lbl{font-family:var(--fm);font-size:.72rem;color:#9896aa}
.toggle{width:36px;height:20px;background:#2e2e38;border-radius:10px;position:relative;cursor:pointer;transition:background .2s;flex-shrink:0}
.toggle.on{background:#7c5cfc}
.toggle::after{content:'';position:absolute;width:14px;height:14px;border-radius:50%;background:#fff;top:3px;left:3px;transition:transform .2s}
.toggle.on::after{transform:translateX(16px)}
.adm-form-btns{display:flex;gap:10px;padding-top:4px}
.adm-save-btn{flex:1;background:#7c5cfc;color:#fff;padding:11px;border-radius:6px;font-family:var(--fm);font-size:.76rem;font-weight:600;letter-spacing:.08em;text-transform:uppercase;cursor:pointer;border:none;transition:opacity .2s}
.adm-save-btn:hover{opacity:.85}
.adm-cancel-btn{background:none;color:#5a5870;padding:11px 16px;border-radius:6px;font-family:var(--fm);font-size:.76rem;cursor:pointer;border:1px solid #2e2e38;transition:all .2s}
.adm-cancel-btn:hover{color:#e8e6f0;border-color:#5a5870}

/* Export */
.adm-export-card{background:#16161a;border:1px solid #2e2e38;border-radius:12px;padding:24px;margin-bottom:16px}
.adm-export-card h3{color:#e8e6f0;font-size:1rem;margin-bottom:8px}
.adm-export-card p{color:#5a5870;font-size:.82rem;margin-bottom:16px;line-height:1.65}
.adm-gh-status{display:flex;align-items:center;gap:10px;padding:12px 14px;background:#1e1e24;border:1px solid #2e2e38;border-radius:6px;margin-bottom:14px;font-family:var(--fm);font-size:.75rem}
.adm-gh-dot{width:8px;height:8px;border-radius:50%;flex-shrink:0}
.adm-publish-btn{width:100%;background:#4cd9a0;color:#0d0d0f;padding:14px;border-radius:8px;font-family:var(--fm);font-size:.8rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;cursor:pointer;border:none;transition:opacity .2s;display:flex;align-items:center;justify-content:center;gap:8px}
.adm-publish-btn:hover{opacity:.88}
.adm-publish-btn:disabled{opacity:.5;cursor:not-allowed}
.adm-log{display:none;margin-top:12px;padding:12px 14px;background:#1e1e24;border:1px solid #2e2e38;border-radius:6px;font-family:var(--fm);font-size:.74rem;color:#9896aa;line-height:1.8}
.adm-manual-btns{display:flex;gap:10px;flex-wrap:wrap}
.adm-copy-btn{background:#7c5cfc;color:#fff;padding:10px 20px;border-radius:6px;font-family:var(--fm);font-size:.74rem;font-weight:600;letter-spacing:.08em;text-transform:uppercase;cursor:pointer;border:none;transition:opacity .2s}
.adm-copy-btn:hover{opacity:.85}
.adm-dl-btn{background:#1e1e24;color:#9896aa;padding:10px 20px;border-radius:6px;font-family:var(--fm);font-size:.74rem;letter-spacing:.08em;text-transform:uppercase;cursor:pointer;border:1px solid #2e2e38;transition:all .2s}
.adm-dl-btn:hover{border-color:#9896aa;color:#e8e6f0}
.adm-note{margin-top:14px;padding:12px 14px;background:#fbbf2418;border:1px solid #fbbf2430;border-radius:6px;font-size:.78rem;color:#fbbf24;line-height:1.65}
.adm-note code{background:#1e1e24;padding:1px 5px;border-radius:3px;font-family:var(--fm)}

/* Delete confirm */
.del-confirm{position:fixed;inset:0;z-index:1100;background:rgba(0,0,0,.75);align-items:center;justify-content:center;display:none;}
.del-confirm.visible{display:flex!important;}
.del-confirm-card{background:#16161a;border:1px solid #2e2e38;border-radius:12px;padding:28px;max-width:360px;width:calc(100% - 40px)}
.del-confirm-card h3{color:#e8e6f0;font-size:1.05rem;margin-bottom:8px}
.del-confirm-card p{color:#9896aa;font-size:.84rem;margin-bottom:22px;line-height:1.6}
.del-btns{display:flex;gap:10px;justify-content:flex-end}
.del-cancel{background:none;color:#9896aa;padding:9px 16px;border:1px solid #2e2e38;border-radius:6px;font-family:var(--fm);font-size:.72rem;cursor:pointer;transition:all .2s}
.del-cancel:hover{color:#e8e6f0;border-color:#9896aa}
.del-ok{background:#fc5c7c;color:#fff;padding:9px 16px;border:none;border-radius:6px;font-family:var(--fm);font-size:.72rem;cursor:pointer}

/* RESPONSIVE */
@media(max-width:1024px){
  .blog-grid{grid-template-columns:1fr}
  .content-wrap{grid-template-columns:1fr}
  .post-layout{grid-template-columns:1fr}
  .post-sidebar{position:static}
  .footer-inner{grid-template-columns:1fr 1fr}
}
@media(max-width:768px){
  .nav-links{display:none}.hamburger{display:flex}
  .feat-card{grid-template-columns:1fr}
  .feat-img{min-height:200px}
  .feat-body{padding:24px 20px}
  .about-hero{grid-template-columns:1fr}
  .about-art{order:-1;height:240px}
  .contact-layout{grid-template-columns:1fr}
  .team-grid{grid-template-columns:1fr}
  .footer-inner{grid-template-columns:1fr 1fr;gap:28px}
  .footer-btm{flex-direction:column;gap:14px;text-align:center}
  .adm-2col{grid-template-columns:1fr}
}
@media(max-width:540px){
  .footer-inner{grid-template-columns:1fr}
  .nl-form{flex-direction:column}
}
@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
</style>
</head>
<body>

<div class="rp" id="rp"></div>
<div class="toast" id="toast"></div>

<!-- SEARCH -->
<div class="srch-overlay" id="srch-overlay">
  <div class="srch-box">
    <div class="srch-wrap">
      <svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
      <input type="text" id="srch-inp" placeholder="Search articles‚Ä¶" autocomplete="off"/>
      <button onclick="closeSrch()" style="color:var(--ink3);padding:2px"><svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18M6 6l12 12"/></svg></button>
    </div>
    <div class="srch-res" id="srch-res"></div>
  </div>
</div>

<!-- HEADER -->
<header class="site-header">
  <div class="nav-inner">
    <div class="logo" onclick="goPage('home')">Meri<span>dian</span></div>
    <nav class="nav-links">
      <a id="nl-home" class="active" onclick="goPage('home')">Home</a>
      <a id="nl-about" onclick="goPage('about')">About</a>
      <a id="nl-contact" onclick="goPage('contact')">Contact</a>
    </nav>
    <div class="nav-actions">
      <button class="icon-btn" onclick="openSrch()"><svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg></button>
      <button class="icon-btn" onclick="toggleTheme()">
        <svg class="sun-i" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
        <svg class="moon-i" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
      </button>
      <button class="hamburger" id="hbg" onclick="toggleMnav()"><span></span><span></span><span></span></button>
    </div>
  </div>
  <nav class="mnav" id="mnav">
    <a onclick="goPage('home');closeMnav()">Home</a>
    <a onclick="goPage('about');closeMnav()">About</a>
    <a onclick="goPage('contact');closeMnav()">Contact</a>
  </nav>
</header>

<main>

<!-- HOME -->
<div class="page active" id="page-home">
  <section class="masthead">
    <div class="masthead-tag">Vol. III ‚Äî 2026</div>
    <h1>Where <em>ideas</em> find<br>their form.</h1>
    <p class="masthead-sub">Essays on technology, culture, design, and the forces shaping how we live.</p>
  </section>
  <section class="featured-sec" id="featured-sec"></section>
  <div class="filter-bar">
    <span class="filter-lbl">Filter:</span>
    <button class="filter-btn active" onclick="filterPosts('all',this)">All</button>
    <button class="filter-btn" onclick="filterPosts('Technology',this)">Technology</button>
    <button class="filter-btn" onclick="filterPosts('Culture',this)">Culture</button>
    <button class="filter-btn" onclick="filterPosts('Design',this)">Design</button>
    <button class="filter-btn" onclick="filterPosts('Science',this)">Science</button>
    <button class="filter-btn" onclick="filterPosts('Philosophy',this)">Philosophy</button>
  </div>
  <div class="content-wrap">
    <div>
      <div class="blog-grid" id="blog-grid"></div>
      <div class="pagination" id="pagination"></div>
    </div>
    <aside class="sidebar">
      <div class="sw"><div class="sw-title">Popular This Week</div><div id="sw-popular"></div></div>
      <div class="sw"><div class="sw-title">Browse Topics</div>
        <div class="tag-list">
          <span class="tag" onclick="filterPosts('Technology',null)">Technology</span>
          <span class="tag" onclick="filterPosts('Culture',null)">Culture</span>
          <span class="tag" onclick="filterPosts('Design',null)">Design</span>
          <span class="tag" onclick="filterPosts('Science',null)">Science</span>
          <span class="tag" onclick="filterPosts('Philosophy',null)">Philosophy</span>
        </div>
      </div>
    </aside>
  </div>
</div>

<!-- POST -->
<div class="page" id="page-post">
  <div class="back-btn" onclick="goPage('home')">
    <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
    Back to all articles
  </div>
  <div id="post-root"></div>
</div>

<!-- ABOUT -->
<div class="page" id="page-about">
  <section class="about-hero">
    <div class="about-text">
      <p style="font-family:var(--fm);font-size:.68rem;letter-spacing:.15em;text-transform:uppercase;color:var(--ink3);margin-bottom:10px">About Meridian</p>
      <h1>A journal built on <em>curiosity</em>.</h1>
      <p>Meridian was founded with a single belief: long-form writing about complicated ideas still matters. We exist at the intersection of technology, culture, and design.</p>
      <p>We publish slowly, on purpose. No algorithm to satisfy, no engagement metrics to chase ‚Äî just a passionate community of readers.</p>
    </div>
    <div class="about-art">
      <svg viewBox="0 0 560 400" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" style="width:100%;height:100%">
        <rect width="560" height="400" fill="#edeae3"/>
        <circle cx="280" cy="200" r="160" fill="none" stroke="#3a3633" stroke-width="1" opacity=".15"/>
        <ellipse cx="280" cy="200" rx="160" ry="80" fill="none" stroke="#c0392b" stroke-width="1.5" opacity=".3"/>
        <line x1="280" y1="40" x2="280" y2="360" stroke="#c0392b" stroke-width="1.5" opacity=".3"/>
      </svg>
    </div>
  </section>
  <section class="team-section">
    <p class="sec-lbl">The Team</p>
    <h2 class="sec-title">The people behind the pages.</h2>
    <div class="team-grid">
      <div class="team-card"><div class="team-av"><svg viewBox="0 0 72 72"><rect width="72" height="72" rx="36" fill="#8B5CF6"/><circle cx="36" cy="28" r="14" fill="rgba(255,255,255,.4)"/><ellipse cx="36" cy="62" rx="22" ry="16" fill="rgba(255,255,255,.3)"/></svg></div><div class="team-name">Elena Vasquez</div><div class="team-role">Editor in Chief</div><p class="team-bio">Former tech reporter. Elena writes about minds ‚Äî artificial and otherwise.</p></div>
      <div class="team-card"><div class="team-av"><svg viewBox="0 0 72 72"><rect width="72" height="72" rx="36" fill="#0D9488"/><circle cx="36" cy="28" r="14" fill="rgba(255,255,255,.4)"/><ellipse cx="36" cy="62" rx="22" ry="16" fill="rgba(255,255,255,.3)"/></svg></div><div class="team-name">Marcus Chen</div><div class="team-role">Senior Editor</div><p class="team-bio">Trained architect. Marcus writes on urban futures and design.</p></div>
      <div class="team-card"><div class="team-av"><svg viewBox="0 0 72 72"><rect width="72" height="72" rx="36" fill="#D97706"/><circle cx="36" cy="28" r="14" fill="rgba(255,255,255,.4)"/><ellipse cx="36" cy="62" rx="22" ry="16" fill="rgba(255,255,255,.3)"/></svg></div><div class="team-name">Priya Nair</div><div class="team-role">Contributing Editor</div><p class="team-bio">Science journalist covering biology, ecology, and natural history.</p></div>
    </div>
  </section>
</div>

<!-- CONTACT -->
<div class="page" id="page-contact">
  <div class="contact-layout">
    <div class="contact-info">
      <h1>Let's start a <em style="font-style:italic;color:var(--accent)">conversation.</em></h1>
      <p>We read every message we receive. Whether you want to pitch a piece or share thoughts ‚Äî we're interested.</p>
      <div style="margin-top:28px">
        <div class="c-detail"><div class="c-icon"><svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></div><div><div class="c-lbl">Email</div><div class="c-val">hello@meridian.com</div></div></div>
        <div class="c-detail"><div class="c-icon"><svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg></div><div><div class="c-lbl">Location</div><div class="c-val">San Francisco & New York</div></div></div>
      </div>
    </div>
    <div class="contact-form-wrap">
      <h3>Send us a message</h3>
      <form id="contact-form" onsubmit="submitContact(event)">
        <div class="fg"><label class="fl">Your name</label><input class="fc" type="text" placeholder="Jane Smith" required/></div>
        <div class="fg"><label class="fl">Email</label><input class="fc" type="email" placeholder="jane@example.com" required/></div>
        <div class="fg"><label class="fl">Message</label><textarea class="fc" rows="5" placeholder="Write your message‚Ä¶" required></textarea></div>
        <button type="submit" class="btn-primary">Send Message</button>
      </form>
      <div class="form-ok" id="form-ok">
        <svg width="44" height="44" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
        <h3>Message received!</h3><p>We'll be in touch within 5 business days.</p>
      </div>
    </div>
  </div>
</div>

</main>

<!-- NEWSLETTER -->
<section class="newsletter" id="nl-band">
  <h2>Don't miss an essay.</h2>
  <p>New pieces, twice a month. No noise.</p>
  <form class="nl-form" onsubmit="subNl(event)">
    <input type="email" placeholder="your@email.com" required/>
    <button type="submit">Subscribe</button>
  </form>
</section>

<!-- FOOTER -->
<footer class="site-footer">
  <div class="footer-inner">
    <div class="footer-brand"><div class="logo">Meri<span>dian</span></div><p>A journal of ideas at the intersection of technology, culture, and design.</p></div>
    <div class="footer-col"><h4>Navigate</h4><ul><li><a onclick="goPage('home')">Home</a></li><li><a onclick="goPage('about')">About</a></li><li><a onclick="goPage('contact')">Contact</a></li></ul></div>
    <div class="footer-col"><h4>Topics</h4><ul><li><a onclick="filterPosts('Technology',null);goPage('home')">Technology</a></li><li><a onclick="filterPosts('Culture',null);goPage('home')">Culture</a></li><li><a onclick="filterPosts('Design',null);goPage('home')">Design</a></li><li><a onclick="filterPosts('Science',null);goPage('home')">Science</a></li></ul></div>
    <div class="footer-col"><h4>Info</h4><ul><li><a>Privacy Policy</a></li><li><a>Terms of Use</a></li></ul></div>
  </div>
  <div class="footer-btm"><p>¬© 2026 Meridian Journal. All rights reserved.</p></div>
</footer>

<!-- ========== ADMIN FAB ========== -->
<button class="adm-fab" id="adm-fab" onclick="openAdmLogin()" title="Admin Login">‚úèÔ∏è</button>

<!-- ========== ADMIN LOGIN MODAL ========== -->
<div class="adm-modal" id="adm-modal">
  <div class="adm-modal-card">
    <div class="adm-logo">Meri<span>dian</span></div>
    <div class="adm-sub">Author Login</div>
    <label class="adm-lbl">Username</label>
    <input class="adm-inp" id="al-user" type="text" placeholder="author1 or author2"/>
    <label class="adm-lbl">Password</label>
    <input class="adm-inp" id="al-pass" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"/>
    <button class="adm-login-btn" onclick="doLogin()">Sign In ‚Üí</button>
    <div class="adm-err" id="al-err"></div>
    <div class="adm-hint">
      Author 1: <b>author1</b> / <b>blog2026</b><br>
      Author 2: <b>author2</b> / <b>write2026</b>
    </div>
    <!-- GitHub Settings -->
    <div class="gh-section">
      <button class="gh-toggle-btn" onclick="toggleGhFields()" id="gh-toggle">
        ‚öôÔ∏è GitHub Settings (for auto-publish)
        <svg id="gh-chev" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
      </button>
      <div class="gh-fields" id="gh-fields">
        <label class="adm-lbl" style="margin-top:0">GitHub Username</label>
        <input class="adm-inp" id="gh-user" type="text" placeholder="e.g. johnsmith"/>
        <label class="adm-lbl">Repository Name</label>
        <input class="adm-inp" id="gh-repo" type="text" placeholder="e.g. johnsmith.github.io"/>
        <label class="adm-lbl">Personal Access Token</label>
        <input class="adm-inp" id="gh-token" type="password" placeholder="ghp_xxxxxxxxxxxxxxxx"/>
        <button class="gh-save-btn" onclick="saveGhSettings()">Save GitHub Settings</button>
        <p class="gh-note">Token saved only in your browser's localStorage ‚Äî never shared publicly.</p>
      </div>
    </div>
    <button class="adm-back-btn" onclick="closeAdmLogin()">‚Üê Back to Blog</button>
  </div>
</div>

<!-- ========== ADMIN PANEL ========== -->
<div class="adm-panel" id="adm-panel">
  <div class="adm-topbar">
    <div class="adm-topbar-l">
      <div class="adm-brand">Meri<span>dian</span></div>
      <div class="adm-sep"></div>
      <div class="adm-page-title">Author Dashboard</div>
    </div>
    <div class="adm-topbar-r">
      <div class="adm-user"><div class="adm-dot"></div><span id="adm-user-name">Author</span></div>
      <button class="adm-topbar-btn view" onclick="closeAdmPanel()">‚Üê View Blog</button>
      <button class="adm-topbar-btn logout" onclick="doLogout()">Sign Out</button>
    </div>
  </div>
  <div class="adm-body">
    <div class="adm-tabs">
      <div class="adm-tab active" id="tab-posts" onclick="switchTab('posts')">üìÑ My Posts</div>
      <div class="adm-tab" id="tab-editor" onclick="switchTab('editor');newPost()">‚úèÔ∏è Write New</div>
      <div class="adm-tab" id="tab-export" onclick="switchTab('export');initExport()">üöÄ Publish</div>
    </div>

    <!-- POSTS VIEW -->
    <div class="adm-view active" id="view-posts">
      <div class="adm-list-header">
        <div class="adm-list-count">All Posts (<span id="post-count">0</span>)</div>
        <button class="adm-new-btn" onclick="switchTab('editor');newPost()">+ Write New</button>
      </div>
      <div class="adm-post-list" id="post-list"></div>
    </div>

    <!-- EDITOR VIEW -->
    <div class="adm-view" id="view-editor">
      <div class="adm-form">
        <div class="adm-fg"><label class="adm-fl">Title *</label><input class="adm-fc" id="af-title" type="text" placeholder="Enter a compelling title‚Ä¶"/></div>
        <div class="adm-fg"><label class="adm-fl">Subtitle</label><input class="adm-fc" id="af-subtitle" type="text" placeholder="A sentence expanding on the title‚Ä¶"/></div>
        <div class="adm-fg"><label class="adm-fl">Excerpt * (shown on homepage card)</label><textarea class="adm-fc" id="af-excerpt" rows="3" placeholder="2‚Äì3 sentence preview‚Ä¶"></textarea></div>
        <div class="adm-fg">
          <label class="adm-fl">Content * (HTML supported)</label>
          <div class="adm-toolbar">
            <button class="adm-tb-btn" onclick="wrap('<p>','</p>')">¬∂</button>
            <button class="adm-tb-btn" onclick="wrap('<strong>','</strong>')"><b>B</b></button>
            <button class="adm-tb-btn" onclick="wrap('<em>','</em>')"><i>I</i></button>
            <div class="adm-tb-sep"></div>
            <button class="adm-tb-btn" onclick="ins('<h2>Heading</h2>')">H2</button>
            <button class="adm-tb-btn" onclick="ins('<h3>Sub Heading</h3>')">H3</button>
            <div class="adm-tb-sep"></div>
            <button class="adm-tb-btn" onclick="ins('<blockquote>Quote here.</blockquote>')">"</button>
            <button class="adm-tb-btn" onclick="wrap('<code>','</code>')">{}</button>
            <div class="adm-tb-sep"></div>
            <button class="adm-tb-btn" onclick="ins('<ul>\n  <li>Item</li>\n</ul>')">UL</button>
          </div>
          <textarea class="adm-fc adm-content-area" id="af-content" placeholder="Write your article in HTML‚Ä¶&#10;&lt;p&gt;Your paragraph.&lt;/p&gt;&#10;&lt;h2&gt;A Heading&lt;/h2&gt;&#10;&lt;blockquote&gt;A quote.&lt;/blockquote&gt;"></textarea>
        </div>
        <div class="adm-2col">
          <div class="adm-fg"><label class="adm-fl">Category *</label>
            <select class="adm-sel" id="af-cat">
              <option value="">‚Äî Select ‚Äî</option>
              <option>Technology</option><option>Culture</option>
              <option>Design</option><option>Science</option><option>Philosophy</option>
            </select>
          </div>
          <div class="adm-fg"><label class="adm-fl">Read Time</label><input class="adm-fc" id="af-rt" type="text" placeholder="e.g. 5 min"/></div>
        </div>
        <div class="adm-fg"><label class="adm-fl">Tags (comma-separated)</label><input class="adm-fc" id="af-tags" type="text" placeholder="Technology, AI, Society"/></div>
        <div class="adm-toggle-row">
          <span class="adm-toggle-lbl">Status: <strong id="status-lbl">Draft</strong></span>
          <div class="toggle" id="pub-toggle" onclick="togglePub()"></div>
        </div>
        <div class="adm-form-btns">
          <button class="adm-save-btn" onclick="savePost()">Save Post</button>
          <button class="adm-cancel-btn" onclick="switchTab('posts')">Cancel</button>
        </div>
      </div>
    </div>

    <!-- EXPORT/PUBLISH VIEW -->
    <div class="adm-view" id="view-export">
      <!-- Auto publish -->
      <div class="adm-export-card" style="border-color:#4cd9a030;background:linear-gradient(135deg,#0a140a,#0d0d0f)">
        <h3 style="color:#4cd9a0">üöÄ One-Click Publish to GitHub Pages</h3>
        <p>Automatically pushes your updated blog live ‚Äî no manual steps needed.</p>
        <div class="adm-gh-status" id="gh-status-bar">
          <div class="adm-gh-dot" id="gh-dot" style="background:#fbbf24"></div>
          <span id="gh-status-txt" style="color:#fbbf24;font-family:var(--fm);font-size:.75rem">Not configured ‚Äî open ‚öôÔ∏è GitHub Settings in login screen.</span>
        </div>
        <button class="adm-publish-btn" id="pub-btn" onclick="publishToGH()">
          üöÄ Publish Live to GitHub Pages
        </button>
        <div class="adm-log" id="pub-log"></div>
      </div>
      <!-- Manual -->
      <div class="adm-export-card">
        <h3>üìã Manual Export (Fallback)</h3>
        <p>Download the updated HTML and upload it manually to GitHub.</p>
        <div class="adm-manual-btns">
          <button class="adm-copy-btn" onclick="copyHtml()">üìã Copy HTML</button>
          <button class="adm-dl-btn" onclick="dlHtml()">‚¨áÔ∏è Download HTML</button>
        </div>
        <div class="adm-note">Go to GitHub ‚Üí click <code>index.html</code> ‚Üí ‚úèÔ∏è edit ‚Üí select all ‚Üí paste ‚Üí commit. Live in ~60 seconds.</div>
      </div>
    </div>

  </div>
</div>

<!-- DELETE CONFIRM -->
<div class="del-confirm" id="del-confirm">
  <div class="del-confirm-card">
    <h3>Delete Post?</h3>
    <p>Delete "<span id="del-title-txt"></span>"? This cannot be undone.</p>
    <div class="del-btns">
      <button class="del-cancel" onclick="closeDel()">Cancel</button>
      <button class="del-ok" onclick="confirmDel()">Delete</button>
    </div>
  </div>
</div>

<script>
/* ============================================
   SAMPLE POSTS (built-in, always visible)
============================================ */
const SAMPLE = [
  {id:1,title:"The Intelligence We Invited: On Living With Artificial Minds",subtitle:"We built mirrors that talk back.",excerpt:"We spent decades imagining AI as something alien. But the AI that arrived came through our own words, our habits of thought, our accumulated culture.",category:"Technology",author:"Elena Vasquez",authorColor:"#8B5CF6",date:"Feb 14, 2026",readTime:"12 min",tags:["AI","Technology","Culture"],published:true,featured:true,content:`<p>When the first large language models began to produce text that felt genuinely thoughtful, a certain kind of person felt a chill. Not the chill of horror. The chill of recognition.</p><p>These systems had been trained on the accumulated written record of human civilization. What had emerged was not a foreign intelligence but a distillation.</p><h2>The Mirror Problem</h2><p>Philosophers have long debated what it would mean to create a mind. But the AI we built sidesteps this question in an interesting way ‚Äî it didn't need consciousness to be useful, or influential, or unsettling.</p><blockquote>"The question isn't whether the machine understands. The question is whether it matters."</blockquote><p>What matters is that these systems produce outputs indistinguishable in many contexts from human reasoning.</p><h2>What We Do Next</h2><p>The more useful question is: what kind of relationship do we want with it? The intelligence we invited in is, in a very real sense, us ‚Äî made strange by the process of its creation.</p>`},
  {id:2,title:"The City as Algorithm",subtitle:"Smart cities promised efficiency. But for whom?",excerpt:"From traffic lights to zoning permits, the logic of optimization has quietly colonized urban planning. Cities are run by systems that measure everything except what matters.",category:"Culture",author:"Marcus Chen",authorColor:"#0D9488",date:"Feb 7, 2026",readTime:"9 min",tags:["Cities","Technology"],published:true,featured:false,content:`<p>The smart city arrived quietly ‚Äî as an upgrade to traffic systems, a new app for parking, a camera network for public safety.</p><h2>Efficiency and Its Discontents</h2><p>Efficiency is always relative to a goal, and goals encode values. When we optimize a city for throughput, we are making choices about what matters.</p><blockquote>"A city optimized for efficiency is not the same as a city optimized for human flourishing."</blockquote><h2>The Measurement Problem</h2><p>The deeper issue is what doesn't get measured ‚Äî the quality of community life, the sense that a street is welcoming or hostile. The algorithm cannot tell us whether the neighbourhood is joyful.</p>`},
  {id:3,title:"Silence as Practice",subtitle:"The ancient technology of attention.",excerpt:"Monastic traditions developed elaborate practices around silence long before smartphones. They understood the mind would wander ‚Äî and built systems to counteract this.",category:"Philosophy",author:"Elena Vasquez",authorColor:"#8B5CF6",date:"Jan 28, 2026",readTime:"8 min",tags:["Philosophy","Mindfulness"],published:true,featured:false,content:`<p>There is a room in a Cistercian abbey where monks have maintained silence for nearly nine centuries ‚Äî not total silence, but a disciplined quiet.</p><h2>The Ancient Science of Attention</h2><p>The contemplative traditions understood something neuroscience has only recently confirmed: attention is a trainable skill, not a fixed capacity.</p><blockquote>"Distraction is not a modern invention. What is modern is the density of the environment designed to exploit it."</blockquote>`},
  {id:4,title:"Typography as Ideology",subtitle:"The choice of a typeface is never merely aesthetic.",excerpt:"When we pick a font, we're making a claim about authority and cultural belonging. The history of type design is a history of how societies understood themselves.",category:"Design",author:"Marcus Chen",authorColor:"#0D9488",date:"Jan 9, 2026",readTime:"7 min",tags:["Design","Typography"],published:true,featured:false,content:`<p>Helvetica became the official typeface of the New York MTA in 1970. This was a design decision. It was also an ideological one.</p><h2>No Font is Neutral</h2><p>Every font carries the fingerprints of its historical moment and the intentions of its designer.</p><blockquote>"Typography is the voice of the page. Change the font, change the voice."</blockquote>`}
];

/* ============================================
   STATE
============================================ */
let curFilter = 'all';
let curPage = 1;
const PER_PAGE = 4;
let editingId = null;
let isPublished = false;
let delTarget = null;
let loggedUser = null;

const AUTHORS = {
  author1:{pass:'blog2026',name:'Author One',color:'#8B5CF6'},
  author2:{pass:'write2026',name:'Author Two',color:'#0D9488'}
};

/* ============================================
   STORAGE
============================================ */
function getStored(){
  try{return JSON.parse(localStorage.getItem('m_posts')||'[]');}catch(e){return[];}
}
function setStored(arr){localStorage.setItem('m_posts',JSON.stringify(arr));}
function getAllPosts(){
  const stored=getStored();
  const ids=new Set(stored.map(p=>p.id));
  return [...SAMPLE.filter(p=>!ids.has(p.id)),...stored];
}

/* ============================================
   BLOG RENDER
============================================ */
function renderHome(){renderFeatured();renderGrid();renderPopular();}

function renderFeatured(){
  const all=getAllPosts().filter(p=>p.published);
  const f=all.find(p=>p.featured)||all[0];
  if(!f){document.getElementById('featured-sec').innerHTML='';return;}
  document.getElementById('featured-sec').innerHTML=`
    <article class="feat-card" onclick="openPost(${f.id})">
      <div class="feat-img">${pSvg(f.id,f.authorColor||'#8B5CF6',600,400)}</div>
      <div class="feat-body">
        <span class="cat-badge">${f.category}</span>
        <h2>${f.title}</h2>
        <p class="excerpt">${f.excerpt}</p>
        <div class="post-meta">
          <div class="auth-av">${aSvg(f.authorColor||'#8B5CF6',34)}</div>
          <div><div class="meta-name">${f.author}</div><div class="meta-date">${f.date||''}</div></div>
          <div class="meta-div"></div>
          <span class="read-time">${f.readTime||'5 min'}</span>
          <div class="read-arrow">Read ‚Üí</div>
        </div>
      </div>
    </article>`;
}

function renderGrid(){
  const all=getAllPosts().filter(p=>p.published);
  const filtered=curFilter==='all'?all:all.filter(p=>p.category===curFilter);
  const total=Math.max(1,Math.ceil(filtered.length/PER_PAGE));
  if(curPage>total)curPage=1;
  const slice=filtered.slice((curPage-1)*PER_PAGE,curPage*PER_PAGE);
  const g=document.getElementById('blog-grid');
  g.innerHTML='';
  if(!slice.length){g.innerHTML='<div class="no-results"><p>No articles in this category yet.</p></div>';renderPagination(1);return;}
  slice.forEach((p,i)=>{
    const c=document.createElement('article');
    c.className='post-card';
    c.style.animationDelay=i*.07+'s';
    c.onclick=()=>openPost(p.id);
    c.innerHTML=`<div class="card-img">${cSvg(p.id,p.authorColor||'#8B5CF6')}</div>
      <div class="card-body">
        <span class="cat-badge">${p.category}</span>
        <h2 class="card-title">${p.title}</h2>
        <p class="card-excerpt">${p.excerpt}</p>
        <div class="card-foot"><span class="card-author">${p.author}</span><span class="card-info">${p.date||''} ¬∑ ${p.readTime||'5 min'}</span></div>
      </div>`;
    g.appendChild(c);
  });
  renderPagination(total);
}

function renderPagination(total){
  const el=document.getElementById('pagination');
  el.innerHTML='';
  if(total<=1)return;
  const prev=document.createElement('button');
  prev.className='page-btn';prev.disabled=curPage===1;
  prev.innerHTML='‚Äπ';
  prev.onclick=()=>{curPage--;renderGrid();window.scrollTo({top:300,behavior:'smooth'});};
  el.appendChild(prev);
  for(let i=1;i<=total;i++){
    const b=document.createElement('button');
    b.className='page-btn'+(i===curPage?' active':'');
    b.textContent=i;
    b.onclick=()=>{curPage=i;renderGrid();window.scrollTo({top:300,behavior:'smooth'});};
    el.appendChild(b);
  }
  const next=document.createElement('button');
  next.className='page-btn';next.disabled=curPage===total;
  next.innerHTML='‚Ä∫';
  next.onclick=()=>{curPage++;renderGrid();window.scrollTo({top:300,behavior:'smooth'});};
  el.appendChild(next);
}

function renderPopular(){
  const posts=getAllPosts().filter(p=>p.published).slice(0,3);
  document.getElementById('sw-popular').innerHTML=posts.map(p=>`
    <div class="sw-post" onclick="openPost(${p.id})">
      <div class="sw-thumb">${cSvg(p.id,p.authorColor||'#8B5CF6')}</div>
      <div><div class="sw-ttl">${p.title}</div><div class="sw-dt">${p.date||''}</div></div>
    </div>`).join('');
}

function filterPosts(cat,btn){
  curFilter=cat;curPage=1;
  document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));
  if(btn)btn.classList.add('active');
  renderGrid();
}

function openPost(id){
  const p=getAllPosts().find(x=>x.id===id);
  if(!p)return;
  const h=[...(p.content||'').matchAll(/<h2>(.*?)<\/h2>/g)].map(m=>m[1]);
  document.getElementById('post-root').innerHTML=`
    <header class="post-hdr">
      <span class="cat-badge">${p.category}</span>
      <h1>${p.title}</h1>
      ${p.subtitle?`<p class="sub">${p.subtitle}</p>`:''}
      <div class="post-hdr-meta">
        <div class="auth-av" style="width:40px;height:40px">${aSvg(p.authorColor||'#8B5CF6',40)}</div>
        <div><div class="meta-name">${p.author}</div><div class="meta-date">${p.date||''}</div></div>
        <div class="meta-div"></div>
        <span class="read-time">${p.readTime||'5 min'} read</span>
      </div>
    </header>
    <div class="post-hero"><div class="post-hero-img">${pSvg(p.id,p.authorColor||'#8B5CF6',1200,380)}</div></div>
    <div class="post-layout">
      <article class="post-content">
        ${p.content||''}
        <div class="post-tags">${(p.tags||[]).map(t=>`<span class="post-tag">${t}</span>`).join('')}</div>
      </article>
      <aside class="post-sidebar">
        ${h.length?`<div class="sw" style="margin-bottom:16px"><div class="sw-title">In This Essay</div><ul class="toc-list">${h.map(x=>`<li><a href="#">${x}</a></li>`).join('')}</ul></div>`:''}
        <div class="sw"><div class="sw-title">Share</div><div class="share-btns"><button class="share-btn" onclick="sharePost('${p.title.replace(/'/g,"\\'")}')">Twitter</button><button class="share-btn" onclick="copyLink()">Copy Link</button></div></div>
      </aside>
    </div>`;
  goPage('post');
  document.getElementById('nl-band').style.display='none';
  document.addEventListener('scroll',scrollRP);
}

/* ============================================
   SVG HELPERS
============================================ */
function pSvg(id,color,w,h){return`<svg viewBox="0 0 ${w} ${h}" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" style="width:100%;height:100%"><defs><linearGradient id="g${id}" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#0f0e0d"/><stop offset="100%" stop-color="#2a1a14"/></linearGradient></defs><rect width="${w}" height="${h}" fill="url(#g${id})"/><circle cx="${w/2}" cy="${h/2}" r="${Math.min(w,h)*.42}" fill="none" stroke="${color}" stroke-width="0.8" opacity="0.25"/><circle cx="${w/2}" cy="${h/2}" r="${Math.min(w,h)*.28}" fill="none" stroke="${color}" stroke-width="0.8" opacity="0.18"/><circle cx="${w/2}" cy="${h/2}" r="3" fill="${color}" opacity="0.7"/><line x1="${w*.15}" y1="${h/2}" x2="${w*.85}" y2="${h/2}" stroke="${color}" stroke-width="0.5" opacity="0.2"/><line x1="${w/2}" y1="${h*.1}" x2="${w/2}" y2="${h*.9}" stroke="${color}" stroke-width="0.5" opacity="0.2"/></svg>`;}
function cSvg(id,color){return`<svg viewBox="0 0 400 225" xmlns="http://www.w3.org/2000/svg" style="width:100%;height:100%" preserveAspectRatio="xMidYMid slice"><rect width="400" height="225" fill="${color}22"/><circle cx="200" cy="112" r="88" fill="none" stroke="${color}" stroke-width="1" opacity="0.3"/><circle cx="200" cy="112" r="52" fill="none" stroke="${color}" stroke-width="1" opacity="0.2"/><circle cx="200" cy="112" r="3" fill="${color}" opacity="0.6"/><line x1="110" y1="112" x2="290" y2="112" stroke="${color}" stroke-width="0.7" opacity="0.2"/><line x1="200" y1="22" x2="200" y2="202" stroke="${color}" stroke-width="0.7" opacity="0.2"/></svg>`;}
function aSvg(color,size){return`<svg viewBox="0 0 ${size} ${size}"><rect width="${size}" height="${size}" rx="${size/2}" fill="${color}"/><circle cx="${size/2}" cy="${size*.38}" r="${size*.22}" fill="rgba(255,255,255,.4)"/><ellipse cx="${size/2}" cy="${size*.88}" rx="${size*.38}" ry="${size*.28}" fill="rgba(255,255,255,.3)"/></svg>`;}

/* ============================================
   NAVIGATION
============================================ */
function goPage(name){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-links a').forEach(a=>a.classList.remove('active'));
  document.getElementById('page-'+name).classList.add('active');
  const nl=document.getElementById('nl-'+name);
  if(nl)nl.classList.add('active');
  document.getElementById('nl-band').style.display=name==='post'?'none':'';
  window.scrollTo({top:0,behavior:'smooth'});
  document.getElementById('rp').style.width='0';
  document.removeEventListener('scroll',scrollRP);
  if(name==='home')renderHome();
}

/* ============================================
   SEARCH
============================================ */
function openSrch(){document.getElementById('srch-overlay').classList.add('visible');setTimeout(()=>document.getElementById('srch-inp').focus(),80);}
function closeSrch(){document.getElementById('srch-overlay').classList.remove('visible');document.getElementById('srch-inp').value='';document.getElementById('srch-res').style.display='none';}
document.getElementById('srch-overlay').addEventListener('click',function(e){if(e.target===this)closeSrch();});
document.getElementById('srch-inp').addEventListener('input',function(){
  const q=this.value.trim().toLowerCase(),r=document.getElementById('srch-res');
  if(!q){r.style.display='none';return;}
  const res=getAllPosts().filter(p=>p.published&&(p.title.toLowerCase().includes(q)||p.excerpt.toLowerCase().includes(q)||(p.category||'').toLowerCase().includes(q)));
  r.style.display='block';
  r.innerHTML=res.length?res.map(p=>`<div class="srch-item" onclick="closeSrch();openPost(${p.id})"><div class="srch-ttl">${p.title}</div><div class="srch-meta">${p.category} ¬∑ ${p.date||''}</div></div>`).join(''):'<div class="srch-empty">No articles found.</div>';
});
document.addEventListener('keydown',e=>{if(e.key==='Escape')closeSrch();});

/* ============================================
   THEME
============================================ */
function toggleTheme(){
  const d=document.documentElement;
  const dark=d.getAttribute('data-theme')==='dark';
  d.setAttribute('data-theme',dark?'light':'dark');
  localStorage.setItem('theme',dark?'light':'dark');
}
(()=>{const t=localStorage.getItem('theme');if(t)document.documentElement.setAttribute('data-theme',t);})();

/* ============================================
   MOBILE NAV
============================================ */
function toggleMnav(){document.getElementById('mnav').classList.toggle('open');document.getElementById('hbg').classList.toggle('open');}
function closeMnav(){document.getElementById('mnav').classList.remove('open');document.getElementById('hbg').classList.remove('open');}

/* ============================================
   READING PROGRESS
============================================ */
function scrollRP(){
  const sc=window.scrollY,dh=document.documentElement.scrollHeight-window.innerHeight;
  document.getElementById('rp').style.width=(dh>0?sc/dh*100:0)+'%';
}

/* ============================================
   UTILS
============================================ */
function toast(m){const t=document.getElementById('toast');t.textContent=m;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),3000);}
function sharePost(title){window.open('https://twitter.com/intent/tweet?text='+encodeURIComponent(title));toast('Sharing‚Ä¶');}
function copyLink(){navigator.clipboard.writeText(window.location.href).then(()=>toast('Link copied!'));}
function submitContact(e){e.preventDefault();document.getElementById('contact-form').style.display='none';document.getElementById('form-ok').classList.add('show');toast('Message sent!');}
function subNl(e){e.preventDefault();e.target.innerHTML='<div style="padding:13px 0;font-family:var(--fm);font-size:.78rem;opacity:.8">‚úì Subscribed!</div>';toast('Subscribed!');}

/* ============================================
   ADMIN ‚Äî LOGIN
============================================ */
function openAdmLogin(){
  document.getElementById('adm-modal').classList.add('visible');
  setTimeout(()=>document.getElementById('al-user').focus(),100);
}
function closeAdmLogin(){
  document.getElementById('adm-modal').classList.remove('visible');
}
document.getElementById('adm-modal').addEventListener('click',function(e){
  if(e.target===this)closeAdmLogin();
});
document.getElementById('al-pass').addEventListener('keydown',e=>{if(e.key==='Enter')doLogin();});
document.getElementById('al-user').addEventListener('keydown',e=>{if(e.key==='Enter')document.getElementById('al-pass').focus();});

function doLogin(){
  const u=document.getElementById('al-user').value.trim();
  const p=document.getElementById('al-pass').value;
  const err=document.getElementById('al-err');
  if(AUTHORS[u]&&AUTHORS[u].pass===p){
    loggedUser=u;
    closeAdmLogin();
    document.getElementById('adm-user-name').textContent=AUTHORS[u].name;
    document.getElementById('adm-panel').classList.add('visible');
    switchTab('posts');
    renderAdmPosts();
  } else {
    err.textContent='Wrong username or password.';
    setTimeout(()=>err.textContent='',3000);
  }
}

function doLogout(){
  loggedUser=null;
  document.getElementById('adm-panel').classList.remove('visible');
  toast('Signed out.');
}

function closeAdmPanel(){
  document.getElementById('adm-panel').classList.remove('visible');
}

/* ============================================
   GITHUB SETTINGS
============================================ */
function toggleGhFields(){
  const f=document.getElementById('gh-fields');
  const c=document.getElementById('gh-chev');
  const open=f.classList.toggle('open');
  c.style.transform=open?'rotate(180deg)':'rotate(0deg)';
  if(open){
    document.getElementById('gh-user').value=localStorage.getItem('gh_user')||'';
    document.getElementById('gh-repo').value=localStorage.getItem('gh_repo')||'';
    document.getElementById('gh-token').value=localStorage.getItem('gh_token')||'';
  }
}

function saveGhSettings(){
  const u=document.getElementById('gh-user').value.trim();
  const r=document.getElementById('gh-repo').value.trim();
  const t=document.getElementById('gh-token').value.trim();
  if(!u||!r||!t){toast('‚ö†Ô∏è Fill all three GitHub fields');return;}
  localStorage.setItem('gh_user',u);
  localStorage.setItem('gh_repo',r);
  localStorage.setItem('gh_token',t);
  toast('‚úì GitHub settings saved!');
  document.getElementById('gh-fields').classList.remove('open');
  document.getElementById('gh-chev').style.transform='rotate(0deg)';
}

function getGhSettings(){return{user:localStorage.getItem('gh_user')||'',repo:localStorage.getItem('gh_repo')||'',token:localStorage.getItem('gh_token')||''};}

/* ============================================
   ADMIN ‚Äî TABS
============================================ */
function switchTab(name){
  document.querySelectorAll('.adm-view').forEach(v=>v.classList.remove('active'));
  document.querySelectorAll('.adm-tab').forEach(t=>t.classList.remove('active'));
  document.getElementById('view-'+name).classList.add('active');
  document.getElementById('tab-'+name).classList.add('active');
}

/* ============================================
   ADMIN ‚Äî POSTS LIST
============================================ */
function renderAdmPosts(){
  const all=[...SAMPLE,...getStored()];
  document.getElementById('post-count').textContent=all.length;
  const list=document.getElementById('post-list');
  if(!all.length){
    list.innerHTML='<div class="adm-empty"><svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg><p>No posts yet.</p></div>';
    return;
  }
  list.innerHTML=all.map(p=>`
    <div class="adm-item">
      <div class="adm-item-info">
        <div class="adm-item-title">${p.title}</div>
        <div class="adm-item-meta">${p.category} ¬∑ ${p.author} ¬∑ ${p.date||'Draft'}</div>
      </div>
      <span class="adm-status ${p.published?'pub':'dft'}">${p.published?'Published':'Draft'}</span>
      <div class="adm-actions">
        <button class="adm-act edit" onclick="editPost(${p.id})" title="Edit">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
        </button>
        <button class="adm-act del" onclick="promptDel(${p.id},'${p.title.replace(/'/g,"\\'")}')" title="Delete">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v2"/></svg>
        </button>
      </div>
    </div>`).join('');
}

/* ============================================
   ADMIN ‚Äî EDITOR
============================================ */
function newPost(){
  editingId=null;isPublished=false;
  ['af-title','af-subtitle','af-excerpt','af-content','af-tags'].forEach(id=>document.getElementById(id).value='');
  document.getElementById('af-cat').value='';
  document.getElementById('af-rt').value='';
  updateToggle();
}

function editPost(id){
  const all=[...SAMPLE,...getStored()];
  const p=all.find(x=>x.id===id);
  if(!p)return;
  editingId=id;isPublished=!!p.published;
  document.getElementById('af-title').value=p.title||'';
  document.getElementById('af-subtitle').value=p.subtitle||'';
  document.getElementById('af-excerpt').value=p.excerpt||'';
  document.getElementById('af-content').value=(p.content||'').trim();
  document.getElementById('af-cat').value=p.category||'';
  document.getElementById('af-rt').value=(p.readTime||'').replace(' min','');
  document.getElementById('af-tags').value=(p.tags||[]).join(', ');
  updateToggle();
  switchTab('editor');
}

function savePost(){
  const title=document.getElementById('af-title').value.trim();
  const excerpt=document.getElementById('af-excerpt').value.trim();
  const content=document.getElementById('af-content').value.trim();
  const cat=document.getElementById('af-cat').value;
  if(!title){toast('‚ö†Ô∏è Title is required');return;}
  if(!excerpt){toast('‚ö†Ô∏è Excerpt is required');return;}
  if(!content){toast('‚ö†Ô∏è Content is required');return;}
  if(!cat){toast('‚ö†Ô∏è Please select a category');return;}

  const rt=document.getElementById('af-rt').value.trim();
  const tags=document.getElementById('af-tags').value.split(',').map(t=>t.trim()).filter(Boolean);
  const date=new Date().toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'});
  const author=AUTHORS[loggedUser]?.name||'Author';
  const color=AUTHORS[loggedUser]?.color||'#8B5CF6';
  const subtitle=document.getElementById('af-subtitle').value.trim();

  let stored=getStored();
  if(editingId!==null){
    const idx=stored.findIndex(p=>p.id===editingId);
    const upd={id:editingId,title,subtitle,excerpt,content,category:cat,author,authorColor:color,date,readTime:rt?rt+' min':'5 min',tags,published:isPublished};
    if(idx!==-1)stored[idx]=upd;else stored.push(upd);
  } else {
    stored.push({id:Date.now(),title,subtitle,excerpt,content,category:cat,author,authorColor:color,date,readTime:rt?rt+' min':'5 min',tags,published:isPublished});
  }
  setStored(stored);
  renderAdmPosts();
  switchTab('posts');
  toast(editingId?'‚úì Post updated!':'‚úì Post saved!');
  renderHome();
}

function togglePub(){isPublished=!isPublished;updateToggle();}
function updateToggle(){
  document.getElementById('pub-toggle').className='toggle'+(isPublished?' on':'');
  document.getElementById('status-lbl').textContent=isPublished?'Published':'Draft';
}

function wrap(o,c){const t=document.getElementById('af-content');const s=t.selectionStart,e=t.selectionEnd;const sel=t.value.substring(s,e);t.value=t.value.substring(0,s)+o+sel+c+t.value.substring(e);t.focus();t.setSelectionRange(s+o.length,e+o.length);}
function ins(block){const t=document.getElementById('af-content');const p=t.selectionEnd;const b=t.value.substring(0,p);t.value=b+(b&&!b.endsWith('\n')?'\n':'')+block+'\n'+t.value.substring(p);t.focus();}

/* ============================================
   ADMIN ‚Äî DELETE
============================================ */
function promptDel(id,title){
  delTarget=id;
  document.getElementById('del-title-txt').textContent=title;
  document.getElementById('del-confirm').classList.add('visible');
}
function closeDel(){document.getElementById('del-confirm').classList.remove('visible');}
function confirmDel(){
  let s=getStored();
  s=s.filter(p=>p.id!==delTarget);
  setStored(s);
  closeDel();
  renderAdmPosts();
  renderHome();
  toast('Post deleted.');
}
document.getElementById('del-confirm').addEventListener('click',function(e){if(e.target===this)closeDel();});

/* ============================================
   ADMIN ‚Äî EXPORT / PUBLISH
============================================ */
function initExport(){
  const {user,repo}=getGhSettings();
  const dot=document.getElementById('gh-dot');
  const txt=document.getElementById('gh-status-txt');
  if(user&&repo&&localStorage.getItem('gh_token')){
    dot.style.background='#4cd9a0';txt.style.color='#4cd9a0';
    txt.textContent='Connected: '+user+'/'+repo;
  } else {
    dot.style.background='#fbbf24';txt.style.color='#fbbf24';
    txt.textContent='Not configured ‚Äî open login ‚öôÔ∏è GitHub Settings.';
  }
  const log=document.getElementById('pub-log');
  log.style.display='none';log.innerHTML='';
  const btn=document.getElementById('pub-btn');
  btn.disabled=false;btn.textContent='üöÄ Publish Live to GitHub Pages';
  btn.style.background='#4cd9a0';btn.style.color='#0d0d0f';
}

function getFullHtml(){
  const stored=getStored();
  const j=JSON.stringify(stored);
  return document.documentElement.outerHTML.replace(
    "function getStored(){\n  try{return JSON.parse(localStorage.getItem('m_posts')||'[]');}catch(e){return[];}\n}",
    "function getStored(){\n  const seed="+j+";\n  try{const ls=JSON.parse(localStorage.getItem('m_posts')||'[]');const ids=new Set(ls.map(p=>p.id));return[...seed.filter(p=>!ids.has(p.id)),...ls];}catch(e){return seed;}\n}"
  );
}

function copyHtml(){navigator.clipboard.writeText(getFullHtml()).then(()=>toast('‚úì HTML copied!'));}
function dlHtml(){
  const b=new Blob([getFullHtml()],{type:'text/html'});
  const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download='index.html';a.click();
  toast('‚¨áÔ∏è Downloaded!');
}

async function publishToGH(){
  const {user,repo,token}=getGhSettings();
  const btn=document.getElementById('pub-btn');
  const log=document.getElementById('pub-log');
  if(!user||!repo||!token){toast('‚ö†Ô∏è Set up GitHub settings first (login ‚Üí ‚öôÔ∏è)');return;}

  btn.disabled=true;
  btn.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" style="animation:spin 1s linear infinite;display:inline-block"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg> Publishing‚Ä¶';
  btn.style.background='#26262e';btn.style.color='#9896aa';
  log.style.display='block';log.innerHTML='‚è≥ Generating updated file‚Ä¶';

  try{
    const html=getFullHtml();
    log.innerHTML+='<br>üì° Fetching current file SHA from GitHub‚Ä¶';
    const api=`https://api.github.com/repos/${user}/${repo}/contents/index.html`;
    const hdrs={'Authorization':'Bearer '+token,'Accept':'application/vnd.github+json','X-GitHub-Api-Version':'2022-11-28'};
    const get=await fetch(api,{headers:hdrs});
    if(!get.ok){const e=await get.json();throw new Error(e.message);}
    const {sha}=await get.json();
    log.innerHTML+='<br>‚úÖ File found (SHA: '+sha.slice(0,7)+'‚Ä¶)';
    log.innerHTML+='<br>üîß Encoding and pushing‚Ä¶';
    const b64=btoa(unescape(encodeURIComponent(html)));
    const put=await fetch(api,{method:'PUT',headers:{...hdrs,'Content-Type':'application/json'},body:JSON.stringify({message:'Blog update ‚Äî '+new Date().toLocaleString(),content:b64,sha})});
    if(!put.ok){const e=await put.json();throw new Error(e.message);}
    log.innerHTML+='<br>‚úÖ <strong style="color:#4cd9a0">Published successfully!</strong>';
    log.innerHTML+='<br>üåê Live at: <a href="https://'+user+'.github.io" target="_blank" style="color:#a07cff">https://'+user+'.github.io</a> in ~60 seconds';
    btn.innerHTML='‚úÖ Published!';btn.style.background='#4cd9a0';btn.style.color='#0d0d0f';
    toast('üöÄ Live on GitHub Pages!');
  }catch(err){
    log.innerHTML+='<br>‚ùå <strong style="color:#fc5c7c">Error: '+err.message+'</strong>';
    log.innerHTML+='<br><span style="color:#5a5870">Check your token has repo permission and username/repo are correct.</span>';
    btn.innerHTML='‚ùå Failed ‚Äî Try Again';btn.style.background='#fc5c7c18';btn.style.color='#fc5c7c';
    toast('‚ùå Publish failed');
  }finally{
    btn.disabled=false;
  }
}

/* ============================================
   INIT
============================================ */
renderHome();
</script>
</body>
</html>
